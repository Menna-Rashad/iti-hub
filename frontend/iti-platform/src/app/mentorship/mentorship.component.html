<div class="container mt-5">
  <!-- Session Booking Form -->
  <div class="card shadow-lg p-4">
    <h2 class="text-center mb-4">ğŸ“š Book a Mentorship Session</h2>

    <form class="needs-validation">
      <div class="mb-3">
        <label for="mentorId" class="form-label fw-bold">Mentor ID</label>
        <input 
          type="number" 
          id="mentorId" 
          #mentorId 
          class="form-control" 
          placeholder="Enter Mentor ID" 
          required
        />
      </div>

      <div class="mb-3">
        <label for="sessionDate" class="form-label fw-bold">Session Date</label>
        <input 
          type="datetime-local" 
          id="sessionDate" 
          #sessionDate 
          class="form-control" 
          required
        />
      </div>

      <div class="mb-3">
        <label for="platform" class="form-label fw-bold">Platform</label>
        <select 
          id="platform" 
          #platform 
          class="form-select" 
          required
        >
          <option value="Zoom">Zoom</option>
          <option value="Google Meet">Google Meet</option>
          <option value="Teams">Teams</option>
        </select>
      </div>

      <div class="text-center">
        <button 
          type="button" 
          (click)="bookSession()" 
          class="btn btn-primary w-100"
          [disabled]="isLoading"
        >
          ğŸ“… Book Session
        </button>
        <div *ngIf="isLoading" class="spinner-border text-primary mt-3" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>

      <!-- Display error message -->
      <div *ngIf="errorMessage" class="alert alert-danger mt-3">
        <strong>Error!</strong> {{ errorMessage }}
      </div>

      <!-- Display success message -->
      <div *ngIf="successMessage" class="alert alert-success mt-3">
        <strong>Success!</strong> {{ successMessage }}
      </div>
    </form>
  </div>

  <hr class="my-5">

  <!-- Sessions Section -->
  <div class="sessions-section">
    <h3 class="text-center mb-4">ğŸ¯ Your Scheduled Sessions</h3>

    <ul class="list-group">
      <li *ngFor="let session of sessions" class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <p class="mb-1"><strong>ğŸ‘¨â€ğŸ« Mentor ID:</strong> {{ session.mentor_id }}</p>
          <p class="mb-1"><strong>ğŸ“… Date:</strong> {{ session.session_date | date: 'short' }}</p>
          <p class="mb-1"><strong>ğŸ’» Platform:</strong> {{ session.platform }}</p>
        </div>
        <div class="d-flex">
          <!-- Cancel Session Button -->
          <button 
            (click)="cancelSession(session.id)" 
            class="btn btn-danger btn-sm me-2"
          >
            âŒ Cancel
          </button>

          <!-- Rate Session Button -->
          <button 
            (click)="rateSession(session.id)" 
            class="btn btn-success btn-sm me-2"
          >
            â­ Rate
          </button>

          <!-- Delete Session Button -->
          <button 
            (click)="deleteSession(session.id)" 
            class="btn btn-danger btn-sm"
          >
            ğŸ—‘ Delete
          </button>
        </div>
      </li>
    </ul>

    <!-- Loading Spinner for Sessions -->
    <div *ngIf="isLoading" class="spinner-border text-primary mt-3" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>

    <!-- Error Message for Sessions -->
    <div *ngIf="errorMessage" class="alert alert-danger mt-3">
      <strong>Error!</strong> {{ errorMessage }}
    </div>
  </div>
</div>
