<div *ngIf="loading" class="loading-container">
  <mat-spinner></mat-spinner>
</div>

<div *ngIf="!loading && job; else notFound">
  <mat-card class="job-details-card">
    <!-- باقي تفاصيل الوظيفة -->
  </mat-card>

  <div class="comments-section">
    <h2>Comments</h2>
    <app-comment-form
      [commentableType]="'Job'"
      [commentableId]="job.id"
      (commentAdded)="onCommentAdded($event)"
    ></app-comment-form>

    <app-comment-list
      [comments]="comments"
      [loading]="commentsLoading"
    ></app-comment-list>
  </div>
</div>

<ng-template #notFound>
  <div class="error-container">
    <mat-icon class="error-icon">error_outline</mat-icon>
    <h2>Job not found</h2>
    <p>The job you're looking for doesn't exist or has been removed.</p>
    <button mat-button routerLink="/jobs">Back to Jobs</button>
  </div>
</ng-template>
